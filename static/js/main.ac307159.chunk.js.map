{"version":3,"sources":["components/Leaderboard/Leaderboard.module.css","App.module.css","store/actions/game.js","store/actions/actionTypes.js","store/actions/auth.js","config.js","WebSocket.js","shared/utility.js","store/reducers/auth.js","shared/GameEngine/computer.js","shared/GameEngine/decisionTree.js","shared/GameEngine/data.js","shared/gameLogic.js","store/reducers/game.js","components/UI/Button/button.js","hooks/useTimer.js","components/UI/Spinner/LoadingIndicator.js","components/PreGame/PreGame.js","components/Timer/Timer.js","components/Box/Box.js","components/Board/Board.js","components/Game/Game.js","components/UI/Input/input.js","components/UI/Spinner/Spinner.js","components/Auth/Auth.js","components/Leaderboard/Leaderboard.js","App.js","serviceWorker.js","index.js","components/Box/Box.module.css","components/Board/Board.module.css","components/UI/Input/input.module.css","components/UI/Button/button.module.css","components/Game/Game.module.css","components/PreGame/PreGame.module.css","components/UI/Spinner/Spinner.module.css","components/Auth/Auth.module.css"],"names":["module","exports","played","box","side","type","fetchLeaderboard","dispatch","axios","get","then","response","leaders","data","catch","error","authSuccess","token","user","logout","localStorage","removeItem","socket","io","WebSocketContext","createContext","ws","children","useDispatch","useSelector","state","game","toPlay","players","opponentId","winner","onlineGame","useCallback","actions","isAuthenticated","auth","setWinner","useEffect","username","emit","on","console","log","play","setPlayers","showAuthForm","showLoading","fixWinner","Provider","value","areEqual","len","arguments","length","i","otherSide","updateObject","oldObject","updatedProperties","conditionalRender","boolean","toRender","initialState","loading","authStart","action","authFail","authLogout","reducer","Tree","this","initial","choices","getInitial","Error","getChoices","getChoice","id","idList","list","childChoice","push","getChildren","parentId","childIds","init","k","indexOf","choice","child","parent","a1","a2","a3","b1","b2","b3","c1","c2","c3","cornerBoxes","adjacentBoxes","keyBoxesArray","responseAdjacentBoxes","responseCornerBoxes","winCombinationArray","randomIndex","upperLimit","Math","floor","random","checkAvailable","boxes","availableBoxes","key","winningBoxes","prevent","opponentSide","comboArray","values","empty","reduce","result","checkIfBoxAvailable","freeBoxes","computerPlay","newBoxes","toWinBox","preventLossBox","map","split","boxToPlay","availableToPlay","filter","playedXBoxes","getPlayedXBoxes","nextToPlayBoxes","join","randomNextToPlayIndex","playingAsX","openingO","keyBox","element","box1","box2","checkKeyBoxes","checkBoxes","findWinner","gameOver","gameStarted","checkGameOver","computer","draw","playLogic","nextSide","switchToPlay","latestboxes","checkResult","newSide","won","sideArray","side1","side2","number","setOnlinePlayers","mySide","opponentUsername","setLeaderboard","leaderboardStart","leaderboardFailed","button","props","style","disabled","className","classes","Button","btnType","size","onClick","seconds","useState","time","setTime","toPause","setToPause","start","pause","reset","setTimeout","prev","LoadingIndicator","Leaderboard","showPreGame","useTimer","matched","setMatched","opponent","setOpponent","off","toShow","container","Timer","useContext","Box","loc","disable","locStyles","text","Board","clickHandler","location","board","row","Game","callback","setShowPreGame","preGame","PreGame","miniHeaders","buttons","margin","input","inputElement","inputClasses","InputElement","invalid","shouldValidate","touched","Invalid","elementType","elementConfig","ref","inputRef","onChange","changed","options","option","displayValue","Input","Label","label","spinner","Loader","Auth","placeholder","validation","required","valid","minLength","authForm","setAuthForm","isSignUp","setIsSignUp","formIsValid","setFormIsValid","userData","authData","isSignup","url","post","setItem","JSON","stringify","err","submitHandler","event","a","preventDefault","form","onSubmit","formElement","identifier","updatedAuthForm","identifierIndex","findIndex","d","updatedFormElement","target","rules","isValid","trim","maxLength","isEmail","test","isNumeric","checkValidity","bufferFormIsValid","inputIdentifier","inputChangedHandler","Spinner","errorMessage","textAlign","prevState","leader","_id","item","points","header","App","authCheckState","getItem","userString","parse","setShowAuthForm","href","rel","icon","faGithub","transform","gridContainer","section","Boolean","window","hostname","match","composeEnhancers","compose","rootReducer","combineReducers","gameReducer","authReducer","store","createStore","applyMiddleware","thunk","app","WebSocket","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.ac307159.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Leaderboard_header__-t5o-\",\"list\":\"Leaderboard_list__3WqsC\",\"username\":\"Leaderboard_username__2LSQf\",\"points\":\"Leaderboard_points__3_iQs\",\"item\":\"Leaderboard_item__2-gnA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\",\"button\":\"App_button__13pio\",\"header\":\"App_header__3ZZ1n\",\"gridContainer\":\"App_gridContainer__20VCH\",\"section\":\"App_section__1OL6S\"};","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const played = (box, side) => {\n  return {\n    type: actionTypes.PLAYED,\n    box,\n    side,\n  };\n};\n\nexport const setPlayers = (number) => {\n  return {\n    type: actionTypes.SET_PLAYERS,\n    number,\n  };\n};\n\nexport const setOnlinePlayers = (username, opponent) => {\n  return {\n    type: actionTypes.SET_ONLINE_PLAYERS,\n    username,\n    opponentId: opponent.id,\n    opponentSide: opponent.side,\n    opponentUsername: opponent.username,\n  };\n};\n\nexport const setWinner = (side) => {\n  return {\n    type: actionTypes.SET_WINNER,\n    side,\n  };\n};\n\nconst fetchLeaderboardStart = () => {\n  return {\n    type: actionTypes.LEADERBOARD_START,\n  };\n};\n\nconst leaderboardFailed = () => {\n  return {\n    type: actionTypes.LEADERBOARD_FAILED,\n  };\n};\n\nconst setLeaderboard = ({ leaders }) => {\n  return {\n    type: actionTypes.SET_LEADERBOARD,\n    leaders,\n  };\n};\n\nexport const fetchLeaderboard = () => {\n  return (dispatch) => {\n    dispatch(fetchLeaderboardStart());\n    axios\n      .get(`https://playtttoe.herokuapp.com/api/leaderBoard`)\n      .then((response) => {\n        dispatch(setLeaderboard(response.data));\n      })\n      .catch((error) => {\n        dispatch(leaderboardFailed());\n      });\n  };\n};\n","export const PLAYED = \"PLAYED\";\n\nexport const SET_ONLINE_PLAYERS = \"SET_ONLINE_PLAYERS\";\nexport const SET_PLAYERS = \"SET_PLAYERS\";\nexport const SET_WINNER = \"SET_WINNER\";\n\nexport const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\n\nexport const SET_LEADERBOARD = \"SET_LEADERBOARD\";\nexport const LEADERBOARD_START = \"LEADERBOARD_START\";\nexport const LEADERBOARD_FAILED = \"LEADERBOARD_FAILED\";\n","import axios from \"axios\";\n\nimport * as actionTypes from \"./actionTypes\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START,\n  };\n};\n\nexport const authSuccess = (token, user) => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token,\n    user,\n  };\n};\n\nexport const authFail = (error) => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error,\n  };\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n  return {\n    type: actionTypes.AUTH_LOGOUT,\n  };\n};\n\nexport const auth = (authData, isSignup) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    let url = isSignup\n      ? \"https://playtttoe.herokuapp.com/api/signup\"\n      : \"https://playtttoe.herokuapp.com/api/login\";\n\n    axios\n      .post(url, authData)\n      .then((response) => {\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(response.data.user));\n        dispatch(authSuccess(response.data.token, response.data.user));\n      })\n      .catch((err) => {\n        dispatch(authFail(err.response.data));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return (dispatch) => {\n    const token = localStorage.getItem(\"token\");\n    const userString = localStorage.getItem(\"user\");\n    const user = JSON.parse(userString);\n    if (!token) {\n      dispatch(logout());\n    } else {\n      dispatch(authSuccess(token, user));\n    }\n  };\n};\n","import io from \"socket.io-client\";\nconst WS_BASE = \"https://playtttoe.herokuapp.com/\";\nexport const socket = io(WS_BASE);\n","import React, { createContext, useCallback, useEffect } from \"react\";\nimport * as actions from \"./store/actions/index\";\nimport { socket } from \"./config\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst WebSocketContext = createContext(null);\n\nexport { WebSocketContext };\n\nexport default ({ children }) => {\n  let ws;\n\n  const dispatch = useDispatch();\n\n  const { toPlay, players, opponentId, winner, onlineGame } = useSelector(\n    (state) => state.game\n  );\n  const fetchLeaderboard = useCallback(\n    () => dispatch(actions.fetchLeaderboard()),\n    [dispatch]\n  );\n  const isAuthenticated = useSelector((state) => state.auth.token !== null);\n  const { user, token } = useSelector((state) => state.auth);\n\n  const played = useCallback((box) => dispatch(actions.played(box)), [\n    dispatch,\n  ]);\n\n  const setWinner = useCallback((side) => dispatch(actions.setWinner(side)), [\n    dispatch,\n  ]);\n\n  useEffect(() => {\n    if (winner && user && onlineGame) {\n      if (winner.username === user.username) {\n        socket.emit(\"updateuserpoints\", token);\n      }\n    }\n  }, [token, user, winner, onlineGame]);\n\n  //socket functions\n  const fixWinner = (side) => {\n    if (isAuthenticated) {\n      socket.emit(\"winner\", { side, opponentId });\n    }\n    setWinner(side);\n  };\n\n  const setPlayers = (user, showAuthForm, showLoading) => {\n    if (isAuthenticated) {\n      showLoading(true);\n      socket.emit(\"setPlayers\", user.username);\n    } else {\n      showAuthForm(true);\n    }\n  };\n\n  const play = (box) => {\n    if (toPlay === players[0].side) {\n      socket.emit(\"play\", { box, opponentId });\n      played(box);\n    }\n  };\n\n  socket.on(\"play\", (box) => played(box));\n\n  socket.on(\"updated\", () => {\n    fetchLeaderboard();\n  });\n\n  socket.on(\"winner\", (side) => setWinner(side));\n\n  socket.on(\"an error\", (error) => console.log(error));\n\n  ws = {\n    play,\n    setPlayers,\n    fixWinner,\n  };\n\n  return (\n    <WebSocketContext.Provider value={ws}>{children}</WebSocketContext.Provider>\n  );\n};\n","export function areEqual() {\n  let len = arguments.length;\n  for (let i = 1; i < len; i++) {\n    if (arguments[i] === \"\" || arguments[i] !== arguments[i - 1]) {\n      return [arguments[i], false];\n    }\n  }\n  return [arguments[0], true];\n}\n\nexport const otherSide = (side) => (side === \"X\" ? \"O\" : \"X\");\n\nexport const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties,\n  };\n};\n\nexport const checkValidity = (value, rules) => {\n  let isValid = true;\n  if (!rules) {\n    return true;\n  }\n\n  if (rules.required) {\n    isValid = value.trim() !== \"\" && isValid;\n  }\n\n  if (rules.minLength) {\n    isValid = value.length >= rules.minLength && isValid;\n  }\n\n  if (rules.maxLength) {\n    isValid = value.length <= rules.maxLength && isValid;\n  }\n\n  if (rules.isEmail) {\n    const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n    isValid = pattern.test(value) && isValid;\n  }\n\n  if (rules.isNumeric) {\n    const pattern = /^\\d+$/;\n    isValid = pattern.test(value) && isValid;\n  }\n\n  return isValid;\n};\n\nexport const conditionalRender = (boolean, toRender) =>\n  boolean ? toRender : null;\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../../shared/utility\";\n\nconst initialState = {\n  token: null,\n  user: null,\n  error: null,\n  loading: false,\n  // authRedirectPath: \"/\"\n};\n\nconst authStart = (state, action) => {\n  return updateObject(state, { error: null, loading: true });\n};\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    user: action.user,\n    error: null,\n    loading: false,\n  });\n};\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false,\n  });\n};\n\nconst authLogout = (state, action) => {\n  return updateObject(state, { token: null, user: null });\n};\n\n// const setAuthRedirectPath = (state, action) => {\n//   const state2 = updateObject(state, { authRedirectPath: action.path });\n//   return state2;\n// };\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n    // case actionTypes.SET_AUTH_REDIRECT_PATH:\n    //   return setAuthRedirectPath(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { DecisionTree } from \"./decisionTree\";\nimport { data } from \"./data\";\nimport { otherSide as opponentSide } from \"../utility\";\n\nconst Tree = new DecisionTree(data);\n\n//error you found from sis playing your computer\n\nconst cornerBoxes = [\"a1\", \"a3\", \"c1\", \"c3\"];\nconst adjacentBoxes = [\"a2\", \"b1\", \"b3\", \"c2\"];\nconst keyBoxesArray = [\n  [\"a2\", \"b1\", \"a1\"],\n  [\"a2\", \"b3\", \"a3\"],\n  [\"c2\", \"b1\", \"c1\"],\n  [\"c2\", \"b3\", \"c3\"],\n  [\"a1\", \"b3\", \"a3\"],\n  [\"a1\", \"c2\", \"c1\"],\n  [\"a3\", \"c2\", \"c3\"],\n  [\"a3\", \"b1\", \"a1\"],\n  [\"c1\", \"a2\", \"a1\"],\n  [\"c1\", \"b3\", \"c3\"],\n  [\"c3\", \"b1\", \"c1\"],\n  [\"c3\", \"a2\", \"a3\"],\n];\nconst responseAdjacentBoxes = [\n  [\"a1\", \"c3\"],\n  [\"a3\", \"c1\"],\n];\nconst responseCornerBoxes = [\n  [\"a2\", \"c2\"],\n  [\"b1\", \"b3\"],\n];\nconst winCombinationArray = [\n  [\"a1\", \"a2\", \"a3\"],\n  [\"b1\", \"b2\", \"b3\"],\n  [\"c1\", \"c2\", \"c3\"],\n  [\"a1\", \"b1\", \"c1\"],\n  [\"a2\", \"b2\", \"c2\"],\n  [\"a3\", \"b3\", \"c3\"],\n  [\"a1\", \"b2\", \"c3\"],\n  [\"a3\", \"b2\", \"c1\"],\n];\nconst randomIndex = (upperLimit) => Math.floor(Math.random() * upperLimit);\n\nexport const checkAvailable = (boxes) => {\n  const availableBoxes = [];\n  for (let key in boxes) {\n    if (boxes[key] === \"\") {\n      availableBoxes.push(key);\n    }\n  }\n  return availableBoxes;\n};\n\nconst winningBoxes = (boxes, toPlay, prevent) => {\n  const otherSide = opponentSide(toPlay);\n  for (let i = 0; i < winCombinationArray.length; i++) {\n    const comboArray = winCombinationArray[i];\n    const values = [\n      boxes[comboArray[0]],\n      boxes[comboArray[1]],\n      boxes[comboArray[2]],\n    ];\n    const check = prevent\n      ? values[0] === toPlay || values[1] === toPlay || values[2] === toPlay\n      : values[0] === otherSide ||\n        values[1] === otherSide ||\n        values[2] === otherSide;\n    if (check) continue;\n    const empty = values.reduce((result, value, i) => {\n      if (value === \"\") result.push(i);\n      return result;\n    }, []);\n    if (empty.length === 1) {\n      return comboArray[empty[0]];\n    }\n  }\n  return null;\n};\n\nconst checkKeyBoxes = (boxes, toPlay) => {\n  const otherSide = opponentSide(toPlay);\n  for (const element of keyBoxesArray) {\n    const [box1, box2, response] = element;\n    if (boxes[box1] === otherSide && boxes[box2] === otherSide) return response;\n  }\n  for (const element of responseAdjacentBoxes) {\n    const [box1, box2] = element;\n    if (boxes[box1] === otherSide && boxes[box2] === otherSide)\n      return adjacentBoxes[randomIndex(adjacentBoxes.length)];\n  }\n  for (const element of responseCornerBoxes) {\n    const [box1, box2] = element;\n    if (boxes[box1] === otherSide && boxes[box2] === otherSide)\n      return cornerBoxes[randomIndex(cornerBoxes.length)];\n  }\n\n  for (const element of cornerBoxes) {\n    if (boxes[element] === otherSide && boxes[\"b2\"] === otherSide)\n      return cornerBoxes[randomIndex(cornerBoxes.length)];\n  }\n};\n\nconst openingO = (boxes) => {\n  return boxes.b2 === \"\" ? \"b2\" : cornerBoxes[randomIndex(cornerBoxes.length)];\n};\n\nconst checkIfBoxAvailable = (box, freeBoxes) => {\n  for (let index of freeBoxes) {\n    if (index === box) return true;\n  }\n  return false;\n};\n\nconst getPlayedXBoxes = (boxes) => {\n  const playedXBoxes = [];\n  for (let key in boxes) {\n    if (boxes[key] === \"X\") {\n      playedXBoxes.push(key);\n    }\n  }\n  return playedXBoxes;\n};\n\nconst playingAsX = (boxes, freeBoxes) => {\n  if (freeBoxes.length === 9) return freeBoxes[randomIndex(freeBoxes.length)];\n\n  if (freeBoxes.length === 7) {\n    for (let key in boxes) {\n      if (boxes[key] === \"X\") {\n        const children = Tree.getChoice(key).children;\n        const boxes = children.map((child) => child.split(\" \")[1]);\n        const boxToPlay = boxes[randomIndex(boxes.length)];\n        const flag = checkIfBoxAvailable(boxToPlay, freeBoxes);\n        if (flag) return boxToPlay;\n        const availableToPlay = boxes.filter((box) => box !== boxToPlay);\n        return availableToPlay[randomIndex(availableToPlay.length)];\n      }\n    }\n  }\n\n  if (freeBoxes.length === 5) {\n    const playedXBoxes = getPlayedXBoxes(boxes);\n    const nextToPlayBoxes = Tree.getChoice(playedXBoxes.join(\" \")).children;\n    if (nextToPlayBoxes.length === 1) {\n      return checkIfBoxAvailable(nextToPlayBoxes[0], freeBoxes)\n        ? nextToPlayBoxes[0]\n        : freeBoxes[randomIndex(freeBoxes.length)];\n    }\n    let randomNextToPlayIndex = randomIndex(nextToPlayBoxes.length);\n\n    return checkIfBoxAvailable(\n      nextToPlayBoxes[randomNextToPlayIndex],\n      freeBoxes\n    )\n      ? nextToPlayBoxes[randomNextToPlayIndex]\n      : nextToPlayBoxes[1 - randomNextToPlayIndex];\n  }\n\n  return freeBoxes[randomIndex(freeBoxes.length)];\n};\n\nexport const computerPlay = (toPlay, boxes) => {\n  const play = (box) => {\n    const newBoxes = { ...boxes };\n    newBoxes[box] = toPlay;\n    return newBoxes;\n  };\n  const freeBoxes = checkAvailable(boxes);\n  if (freeBoxes.length === 1) return play(freeBoxes[0]);\n\n  const toWinBox = winningBoxes(boxes, toPlay, false);\n  if (toWinBox) return play(toWinBox);\n\n  const preventLossBox = winningBoxes(boxes, toPlay, true);\n  if (preventLossBox) return play(preventLossBox);\n\n  if (toPlay === \"X\") return play(playingAsX(boxes, freeBoxes));\n\n  if (freeBoxes.length === 8) return play(openingO(boxes, freeBoxes));\n\n  if (freeBoxes.length === 6) {\n    const keyBox = checkKeyBoxes(boxes, toPlay);\n    if (keyBox) {\n      return play(keyBox);\n    }\n  }\n  return play(freeBoxes[randomIndex(freeBoxes.length)]);\n};\n","// data = {\n//   initial: [array of initial choices],\n//   choices: {\n//     choices with the key being the choice with an array, children\n//   }\n// }\n\nexport const DecisionTree = function (data) {\n  this.initial = data.initial;\n  this.choices = data.choices;\n\n  // Return an array of choice objects for the root of the tree\n  this.getInitial = function () {\n    if (!this.initial)\n      throw new Error(\"DecisionTree: no initial choice(s) specified\");\n    return this.getChoices(this.initial);\n  };\n\n  // Get full choice data by specific id\n  this.getChoice = function (id) {\n    if (!(id in this.choices)) return false;\n    if (!(\"id\" in this.choices[id])) this.choices[id].id = id;\n    return this.choices[id];\n  };\n\n  // As above, but passing an array of choice IDs\n  this.getChoices = function (idList) {\n    if (!idList) return [];\n    let list = [];\n    for (let i = 0; i < idList.length; i++) {\n      let childChoice = this.getChoice(idList[i]);\n      list.push(childChoice);\n    }\n    return list;\n  };\n\n  // Get an array of choice data for a parent id\n  this.getChildren = function (parentId) {\n    if (!(parentId in this.choices)) return false;\n    if (!(\"children\" in this.choices[parentId])) return false;\n\n    let childIds = this.choices[parentId].children;\n    return this.getChoices(childIds);\n  };\n\n  // Init - insert ids into choice objects, check dups, associate parents, etc\n  this.init = function () {\n    let idList = [];\n    for (let k in this.choices) {\n      if (idList.indexOf(k) !== -1)\n        throw new Error('DecisionTree: duplicate ID \"' + k + '\" in choice set');\n      let choice = this.getChoice(k);\n      choice.id = k;\n\n      let children = this.getChildren(k);\n      for (let i = 0; i < children.length; i++) {\n        let child = children[i];\n        if (child.parent)\n          throw new Error(\n            'DecisionTree: tried to assign parent \"' +\n              k +\n              '\" to child \"' +\n              choice.children[i] +\n              '\" which already has parent \"' +\n              child.parent +\n              '\"'\n          );\n        child.parent = k;\n      }\n    }\n  };\n};\n","export const data = {\n  initial: [\"a1\", \"a2\", \"a3\", \"b1\", \"b2\", \"b3\", \"c1\", \"c2\", \"c3\"],\n  choices: {\n    // TOP LEVEL\n\n    a1: {\n      children: [\"a1 c3\", \"a1 b3\", \"a1 c2\"],\n    },\n\n    a2: {\n      children: [\"a2 b1\", \"a2 b3\", \"a2 c1\", \" a2 c3\"],\n    },\n\n    a3: {\n      children: [\"a3 c1\", \"a3 c2\", \"a3 b1\"],\n    },\n\n    b1: {\n      children: [\"b1 a2\", \"b1 a3\", \"b1 c2\", \"b1 c3\"],\n    },\n\n    b2: {\n      children: [\"b2 a1\", \"b2 a3\", \"b2 c1\", \"b2 c3\"],\n    },\n\n    b3: {\n      children: [\"b3 a2\", \"b3 a1\", \"b3 c2\", \"b3 c1\"],\n    },\n\n    c1: {\n      children: [\"c1 a3\", \"c1 a2\", \"c1 b3\"],\n    },\n\n    c2: {\n      children: [\"c2 b1\", \"c2 b3\", \"c2 a1\", \"c2 a3\"],\n    },\n\n    c3: {\n      children: [\"c3 a1\", \"c3 b1\", \"c3 a2\"],\n    },\n\n    // a1\n\n    \"a1 c3\": {\n      children: [\"c1\", \"a3\"],\n    },\n    \"a1 b3\": {\n      children: [\"a3\"],\n    },\n    \"a1 c2\": {\n      children: [\"c1\"],\n    },\n\n    // a2\n    \"a2 b1\": {\n      children: [\"a1\"],\n    },\n    \"a2 b3\": {\n      children: [\"a3\"],\n    },\n    \"a2 c1\": {\n      children: [\"a1\"],\n    },\n    \"a2 c3\": {\n      children: [\"a3\"],\n    },\n\n    //a3\n    \"a3 c1\": {\n      children: [\"a1\", \"c3\"],\n    },\n    \"a3 c2\": {\n      children: [\"c3\"],\n    },\n    \"a3 b1\": {\n      children: [\"a1\"],\n    },\n\n    //b1\n    \"b1 a2\": {\n      children: [\"a1\"],\n    },\n    \"b1 a3\": {\n      children: [\"a1\"],\n    },\n    \"b1 c2\": {\n      children: [\"c1\"],\n    },\n    \"b1 c3\": {\n      children: [\"c1\"],\n    },\n\n    //b2\n    \"b2 a1\": {\n      children: [\"a3\", \"c1\"],\n    },\n    \"b2 a3\": {\n      children: [\"a1\", \"c3\"],\n    },\n    \"b2 c1\": {\n      children: [\"a1\", \"c3\"],\n    },\n    \"b2 c3\": {\n      children: [\"a3\", \"c1\"],\n    },\n\n    //b3\n    \"b3 a2\": {\n      children: [\"a3\"],\n    },\n    \"b3 a1\": {\n      children: [\"a3\"],\n    },\n    \"b3 c2\": {\n      children: [\"c3\"],\n    },\n    \"b3 c1\": {\n      children: [\"c3\"],\n    },\n\n    //c1\n    \"c1 a3\": {\n      children: [\"a1\", \"c3\"],\n    },\n    \"c1 a2\": {\n      children: [\"a1\"],\n    },\n    \"c1 b3\": {\n      children: [\"c3\"],\n    },\n\n    //c2\n    \"c2 b1\": {\n      children: [\"c1\"],\n    },\n    \"c2 b3\": {\n      children: [\"c3\"],\n    },\n    \"c2 a1\": {\n      children: [\"c1\"],\n    },\n    \"c2 a3\": {\n      children: [\"c3\"],\n    },\n\n    //c3\n    \"c3 a1\": {\n      children: [\"c1\", \"a3\"],\n    },\n    \"c3 b1\": {\n      children: [\"c1\"],\n    },\n    \"c3 a2\": {\n      children: [\"a3\"],\n    },\n  },\n};\n","import { computerPlay, checkAvailable } from \"./GameEngine/computer\";\nimport { areEqual, otherSide as switchToPlay } from \"./utility\";\n\nconst checkBoxes = (boxes) => {\n  const winCombinationArray = [\n    [boxes.a1, boxes.a2, boxes.a3],\n    [boxes.b1, boxes.b2, boxes.b3],\n    [boxes.c1, boxes.c2, boxes.c3],\n    [boxes.a1, boxes.b1, boxes.c1],\n    [boxes.a2, boxes.b2, boxes.c2],\n    [boxes.a3, boxes.b3, boxes.c3],\n    [boxes.a1, boxes.b2, boxes.c3],\n    [boxes.a3, boxes.b2, boxes.c1],\n  ];\n  for (let i = 0; i < winCombinationArray.length; i++) {\n    const [side, equal] = areEqual(\n      winCombinationArray[i][0],\n      winCombinationArray[i][1],\n      winCombinationArray[i][2]\n    );\n    if (equal) return side;\n  }\n  return null;\n};\n\nexport const findWinner = (players, side) => {\n  for (let i = 0; i < players.length; i++) {\n    if (players[i].side === side)\n      return { winner: players[i], gameOver: true, gameStarted: false };\n  }\n};\n\nconst checkGameOver = (boxes, players, computer) => {\n  if (computer) {\n    const side = checkBoxes(boxes);\n    if (side) {\n      if (side === players[0].side) {\n        return { winner: players[0], gameOver: true, gameStarted: false };\n      } else {\n        return {\n          winner: { username: \"Computer\" },\n          gameOver: true,\n          gameStarted: false,\n        };\n      }\n    }\n  }\n  const side = checkBoxes(boxes);\n  if (side) return findWinner(players, side);\n\n  for (let key in boxes) {\n    if (boxes[key] === \"\") {\n      return { gameOver: false };\n    }\n  }\n  return { gameOver: true, draw: true, gameStarted: false };\n};\n\nconst playLogic = (boxes, box, players, toPlay, computer) => {\n  if (\n    checkAvailable(boxes).length === 9 &&\n    players[0].side === \"O\" &&\n    players.length === 1\n  ) {\n    return;\n  }\n  let newBoxes = { ...boxes };\n  newBoxes[box] = toPlay;\n  const result = checkGameOver(newBoxes, players, computer);\n  const nextSide = switchToPlay(toPlay);\n\n  if (computer && !result.gameOver) {\n    const latestboxes = computerPlay(nextSide, newBoxes);\n    const checkResult = checkGameOver(latestboxes, players, computer);\n    const newSide = switchToPlay(nextSide);\n    return { ...checkResult, boxes: latestboxes, toPlay: newSide };\n  }\n  return { ...result, boxes: newBoxes, toPlay: nextSide };\n};\n\nexport const played = (state, action) => {\n  if (state.gameOver || !(state.boxes[action.box] === \"\")) {\n    return state;\n  }\n  if (state.players.length === 1) {\n    const result = playLogic(\n      state.boxes,\n      action.box,\n      state.players,\n      state.toPlay,\n      true\n    );\n    return { ...state, ...result };\n  }\n  const result = playLogic(\n    state.boxes,\n    action.box,\n    state.players,\n    state.toPlay,\n    false\n  );\n  return { ...state, ...result };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { played, findWinner } from \"../../shared/gameLogic\";\nimport { computerPlay } from \"../../shared/GameEngine/computer\";\nimport { otherSide } from \"../../shared/utility\";\n\nconst initialState = {\n  boxes: {\n    a1: \"\",\n    a2: \"\",\n    a3: \"\",\n    b1: \"\",\n    b2: \"\",\n    b3: \"\",\n    c1: \"\",\n    c2: \"\",\n    c3: \"\",\n  },\n  onlineGame: false,\n  username: \"Testing t\",\n  opponentId: null,\n  gameOver: false,\n  gameStarted: false,\n  won: null,\n  draw: false,\n  players: [\n    {\n      username: \"Player One\",\n      side: \"X\",\n    },\n    {\n      username: \"Player Two\",\n      side: \"O\",\n    },\n  ],\n  winner: null,\n  toPlay: \"X\",\n  leaders: [],\n  error: false,\n  loading: false,\n};\n\nconst play = (state, action) => played(state, action);\n\nconst setPlayers = (state, action) => {\n  const sideArray = [\"X\", \"O\"];\n  const random = Math.floor(Math.random() * 2);\n  const side1 = sideArray[random];\n  const side2 = sideArray[1 - random];\n  let players;\n  action.number === 2\n    ? (players = [\n        {\n          username: \"Player One\",\n          side: side1,\n        },\n        {\n          username: \"Player Two\",\n          side: side2,\n        },\n      ])\n    : (players = [\n        {\n          username: \"Player One\",\n          side: side1,\n        },\n      ]);\n  if (players[0].side === \"O\" && players.length === 1) {\n    const boxes = computerPlay(\"X\", initialState.boxes);\n    return {\n      ...initialState,\n      leaders: state.leaders,\n      players,\n      gameStarted: true,\n      boxes,\n      toPlay: \"O\",\n    };\n  }\n\n  return {\n    ...initialState,\n    leaders: state.leaders,\n    players,\n    gameStarted: true,\n  };\n};\n\nconst setOnlinePlayers = (state, action) => {\n  const mySide = otherSide(action.opponentSide);\n  let players = [\n    {\n      username: action.username,\n      side: mySide,\n    },\n    {\n      username: action.opponentUsername,\n      side: action.opponentSide,\n    },\n  ];\n  return {\n    ...initialState,\n    players,\n    leaders: state.leaders,\n    gameStarted: true,\n    onlineGame: true,\n    opponentId: action.opponentId,\n  };\n};\n\nconst setWinner = (state, action) => {\n  return { ...state, ...findWinner(state.players, action.side) };\n};\n\nconst setLeaderboard = (state, action) => {\n  return { ...state, leaders: action.leaders, error: false, loading: false };\n};\n\nconst leaderboardStart = (state, action) => {\n  return { ...state, loading: true };\n};\n\nconst leaderboardFailed = (state, action) => {\n  return { ...state, loading: false, error: true };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.PLAYED:\n      return play(state, action);\n    case actionTypes.SET_PLAYERS:\n      return setPlayers(state, action);\n    case actionTypes.SET_WINNER:\n      return setWinner(state, action);\n    case actionTypes.SET_ONLINE_PLAYERS:\n      return setOnlinePlayers(state, action);\n    case actionTypes.SET_LEADERBOARD:\n      return setLeaderboard(state, action);\n    case actionTypes.LEADERBOARD_START:\n      return leaderboardStart(state, action);\n    case actionTypes.LEADERBOARD_FAILED:\n      return leaderboardFailed(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\n\nimport classes from \"./button.module.css\";\n\nconst button = (props) => (\n  <button\n    style={props.style}\n    disabled={props.disabled}\n    className={[\n      classes.Button,\n      classes[props.btnType],\n      classes[props.size],\n      props.className,\n    ].join(\" \")}\n    onClick={props.onClick}\n  >\n    {props.children}\n  </button>\n);\n\nexport default button;\n","import { useEffect, useState, useCallback } from \"react\";\n\nexport default (seconds) => {\n  const [time, setTime] = useState(seconds);\n  const [toPause, setToPause] = useState(true);\n  const start = useCallback(() => setToPause(false), []);\n  const pause = useCallback(() => setToPause(true), []);\n  const reset = useCallback(() => {\n    setTime(seconds);\n    setToPause(true);\n  }, [seconds]);\n  useEffect(() => {\n    time && !toPause && setTimeout(() => setTime((prev) => prev - 1), 1000);\n  }, [time, toPause]);\n  return [time, start, pause, reset];\n};\n","import React from \"react\";\n\nimport \"./LoadingIndicator.css\";\n\nconst LoadingIndicator = () => (\n  <div className=\"lds-ring\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default LoadingIndicator;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport useTimer from \"../../hooks/useTimer\";\nimport { socket } from \"../../config\";\nimport * as actions from \"../../store/actions\";\nimport Button from \"../UI/Button/button\";\nimport Loading from \"../UI/Spinner/LoadingIndicator\";\nimport classes from \"./PreGame.module.css\";\n\nconst Leaderboard = ({ showPreGame }) => {\n  const [time, start] = useTimer(4);\n  const [matched, setMatched] = useState(false);\n  const [opponent, setOpponent] = useState(null);\n  const { user } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n  const setOnlinePlayers = useCallback(\n    (username, opponent) =>\n      dispatch(actions.setOnlinePlayers(username, opponent)),\n    [dispatch]\n  );\n\n  useEffect(() => {\n    socket.on(\"matched\", (opponent) => {\n      setMatched(true);\n      setOpponent(opponent);\n    });\n    return () => socket.off(\"matched\");\n  }, [setMatched]);\n\n  useEffect(() => {\n    if (matched) start();\n  }, [matched, start]);\n\n  useEffect(() => {\n    if (time === 0) {\n      showPreGame(false);\n      setOnlinePlayers(user.username, opponent);\n    }\n  }, [setOnlinePlayers, user.username, showPreGame, opponent, time]);\n  let toShow = (\n    <div>\n      {matched ? (\n        <p>Game Starts in {time}</p>\n      ) : (\n        <div>\n          <Loading />\n          <p>Searching for Opponents</p>\n          <Button\n            btnType=\"Success\"\n            size=\"Small\"\n            onClick={() => showPreGame(false)}\n          >\n            cancel\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n\n  return <div className={classes.container}>{toShow}</div>;\n};\n\nexport default Leaderboard;\n","import React, { useEffect, useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { WebSocketContext } from \"../../WebSocket\";\nimport { otherSide } from \"../../shared/utility\";\nimport useTimer from \"../../hooks/useTimer\";\n\nconst Timer = ({ side }) => {\n  const ws = useContext(WebSocketContext);\n  const { toPlay, gameStarted, gameOver } = useSelector((state) => state.game);\n  const [time, start, pause, reset] = useTimer(30);\n\n  useEffect(() => {\n    gameStarted && reset();\n  }, [gameStarted, reset]);\n\n  useEffect(() => {\n    if (time === 0 && gameStarted) {\n      ws.fixWinner(otherSide(side));\n      reset();\n    }\n  }, [gameStarted, ws, side, time, reset]);\n\n  useEffect(() => {\n    gameStarted && toPlay === side ? start() : pause();\n    gameOver && pause();\n  }, [gameStarted, gameOver, start, pause, reset, toPlay, side, time]);\n  return <div>{time}</div>;\n};\n\nexport default Timer;\n","import React from \"react\";\n\nimport classes from \"./Box.module.css\";\n\nconst Box = ({ children, loc, onClick, disable }) => {\n  let style;\n\n  if (loc) {\n    const locations = loc.split(\" \");\n    const locStyles = locations.map((loc) => classes[loc]);\n    style = [classes.box, ...locStyles];\n  } else {\n    style = [classes.box];\n  }\n\n  return (\n    <div className={style.join(\" \")} onClick={disable ? () => {} : onClick}>\n      <p className={classes.text}>{children}</p>\n    </div>\n  );\n};\n\nexport default Box;\n","import React, { useCallback, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { WebSocketContext } from \"../../WebSocket\";\nimport * as actions from \"../../store/actions\";\nimport Box from \"../Box/Box\";\nimport classes from \"./Board.module.css\";\n\nconst Board = () => {\n  const ws = useContext(WebSocketContext);\n  const dispatch = useDispatch();\n  const { boxes, onlineGame, gameStarted } = useSelector((state) => state.game);\n  const played = useCallback((box) => dispatch(actions.played(box)), [\n    dispatch,\n  ]);\n\n  const clickHandler = (location) =>\n    onlineGame ? ws.play(location) : played(location);\n  return (\n    <div className={classes.board}>\n      <div className={classes.row}>\n        <Box\n          loc=\"right bottom\"\n          onClick={() => clickHandler(\"a1\")}\n          disable={!gameStarted}\n        >\n          {boxes.a1}\n        </Box>\n        <Box\n          loc=\"right bottom\"\n          onClick={() => clickHandler(\"a2\")}\n          disable={!gameStarted}\n        >\n          {boxes.a2}\n        </Box>\n        <Box\n          loc=\"bottom\"\n          onClick={() => clickHandler(\"a3\")}\n          disable={!gameStarted}\n        >\n          {boxes.a3}\n        </Box>\n      </div>\n      <div className={classes.row}>\n        <Box\n          loc=\"right bottom\"\n          onClick={() => clickHandler(\"b1\")}\n          disable={!gameStarted}\n        >\n          {boxes.b1}\n        </Box>\n        <Box\n          loc=\"right bottom\"\n          onClick={() => clickHandler(\"b2\")}\n          disable={!gameStarted}\n        >\n          {boxes.b2}\n        </Box>\n        <Box\n          loc=\"bottom\"\n          onClick={() => clickHandler(\"b3\")}\n          disable={!gameStarted}\n        >\n          {boxes.b3}\n        </Box>\n      </div>\n      <div className={classes.row}>\n        <Box\n          loc=\"right\"\n          onClick={() => clickHandler(\"c1\")}\n          disable={!gameStarted}\n        >\n          {boxes.c1}\n        </Box>\n        <Box\n          loc=\"right\"\n          onClick={() => clickHandler(\"c2\")}\n          disable={!gameStarted}\n        >\n          {boxes.c2}\n        </Box>\n        <Box onClick={() => clickHandler(\"c3\")} disable={!gameStarted}>\n          {boxes.c3}\n        </Box>\n      </div>\n    </div>\n  );\n};\n\nexport default Board;\n","import React, { useCallback, useContext, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { WebSocketContext } from \"../../WebSocket\";\nimport { otherSide, conditionalRender } from \"../../shared/utility\";\nimport PreGame from \"../PreGame/PreGame\";\nimport Timer from \"../Timer/Timer\";\nimport Board from \"../Board/Board\";\nimport * as actions from \"../../store/actions\";\nimport Button from \"../UI/Button/button\";\nimport classes from \"./Game.module.css\";\n\nconst Game = ({ callback }) => {\n  const ws = useContext(WebSocketContext);\n  const dispatch = useDispatch();\n  const [showPreGame, setShowPreGame] = useState(false);\n\n  const {\n    gameOver,\n    onlineGame,\n    winner,\n    draw,\n    players,\n    gameStarted,\n  } = useSelector((state) => state.game);\n  const { user } = useSelector((state) => state.auth);\n\n  const setPlayers = useCallback(\n    (number) => dispatch(actions.setPlayers(number)),\n    [dispatch]\n  );\n  return (\n    <div className={classes.container}>\n      {showPreGame ? (\n        <div className={classes.preGame}>\n          <PreGame showPreGame={setShowPreGame} />\n        </div>\n      ) : null}\n\n      {gameOver ? (\n        draw ? (\n          <div>\n            <h6 className={classes.miniHeaders}>Game ended in a draw</h6>\n          </div>\n        ) : (\n          <div>\n            <h6 className={classes.miniHeaders}>{winner.username} won</h6>\n          </div>\n        )\n      ) : null}\n      {conditionalRender(\n        gameStarted,\n        <h6 className={classes.miniHeaders}>\n          {players.length === 2\n            ? `${players[1].username} is ${players[1].side}`\n            : `Computer is ${otherSide(players[0].side)}`}\n          {onlineGame ? <Timer side={`${players[1].side}`} /> : null}\n        </h6>\n      )}\n\n      <div className={classes.board}>\n        <Board />\n      </div>\n\n      {conditionalRender(\n        gameStarted,\n        <h6 className={classes.miniHeaders}>\n          {onlineGame ? <Timer side={players[0].side} /> : null}\n          {players[0].username}, you're {players[0].side}\n        </h6>\n      )}\n\n      {conditionalRender(\n        !gameStarted,\n        <div className={classes.buttons}>\n          <Button\n            btnType=\"Success\"\n            size=\"Small\"\n            onClick={() => setPlayers(1)}\n            style={{ margin: 10 }}\n          >\n            Play Against Computer?\n          </Button>\n          <Button\n            btnType=\"Success\"\n            size=\"Small\"\n            onClick={() => setPlayers(2)}\n            style={{ margin: 10 }}\n          >\n            Pass and Play\n          </Button>\n          <Button\n            btnType=\"Success\"\n            size=\"Small\"\n            onClick={() => ws.setPlayers(user, callback, setShowPreGame)}\n            style={{ margin: 10 }}\n          >\n            Play online\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Game;\n","import React from \"react\";\n\nimport classes from \"./input.module.css\";\n\nconst input = (props) => {\n  let inputElement = null;\n  const inputClasses = [classes.InputElement];\n\n  if (props.invalid && props.shouldValidate && props.touched) {\n    inputClasses.push(classes.Invalid);\n  }\n\n  switch (props.elementType) {\n    case \"input\":\n      inputElement = (\n        <input\n          className={inputClasses.join(\" \")}\n          {...props.elementConfig}\n          value={props.value}\n          ref={props.inputRef}\n          onChange={props.changed}\n        />\n      );\n      break;\n    case \"textarea\":\n      inputElement = (\n        <textarea\n          className={inputClasses.join(\" \")}\n          {...props.elementConfig}\n          value={props.value}\n          ref={props.inputRef}\n          onChange={props.changed}\n        />\n      );\n      break;\n    case \"select\":\n      inputElement = (\n        <select\n          className={inputClasses.join(\" \")}\n          value={props.value}\n          ref={props.inputRef}\n          onChange={props.changed}\n        >\n          {props.elementConfig.options.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.displayValue}\n            </option>\n          ))}\n        </select>\n      );\n      break;\n    default:\n      inputElement = (\n        <input\n          className={inputClasses.join(\" \")}\n          {...props.elementConfig}\n          value={props.value}\n          ref={props.inputRef}\n          onChange={props.changed}\n        />\n      );\n  }\n\n  return (\n    <div className={classes.Input}>\n      <label className={classes.Label}>{props.label}</label>\n      {inputElement}\n    </div>\n  );\n};\n\nexport default input;\n","import React from \"react\";\n\nimport classes from \"./Spinner.module.css\";\n\nconst spinner = () => <div className={classes.Loader}>Loading...</div>;\n\nexport default spinner;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Input from \"../../components/UI/Input/input\";\nimport Button from \"../../components/UI/Button/button\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport classes from \"./Auth.module.css\";\nimport * as actions from \"../../store/actions/index\";\nimport { checkValidity } from \"../../shared/utility\";\n\nconst Auth = ({ callback }) => {\n  const isAuthenticated = useSelector((state) => state.auth.token !== null);\n  useEffect(() => {\n    if (isAuthenticated) {\n      callback(false);\n    }\n  }, [isAuthenticated, callback]);\n\n  const [authForm, setAuthForm] = useState([\n    {\n      label: \"Username\",\n      elementType: \"input\",\n      elementConfig: {\n        type: \"text\",\n        placeholder: \"Username\",\n      },\n      value: \"\",\n      validation: {\n        required: true,\n      },\n      valid: false,\n      touched: false,\n    },\n    {\n      label: \"Password\",\n      elementType: \"input\",\n      elementConfig: {\n        type: \"password\",\n        placeholder: \"Password\",\n      },\n      value: \"\",\n      validation: {\n        required: true,\n        minLength: 7,\n      },\n      valid: false,\n      touched: false,\n    },\n  ]);\n  const [isSignUp, setIsSignUp] = useState(true);\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  const dispatch = useDispatch();\n  const loading = useSelector((state) => state.auth.loading);\n  const error = useSelector((state) => state.auth.error);\n  const auth = useCallback(\n    (userData, isSignUp) => dispatch(actions.auth(userData, isSignUp)),\n    [dispatch]\n  );\n\n  const inputChangedHandler = (event, identifier) => {\n    const updatedAuthForm = [...authForm];\n    const identifierIndex = updatedAuthForm.findIndex(\n      (d) => d.label === identifier\n    );\n    const updatedFormElement = {\n      ...updatedAuthForm[identifierIndex],\n    };\n    updatedFormElement.value = event.target.value;\n    updatedFormElement.valid = checkValidity(\n      updatedFormElement.value,\n      updatedFormElement.validation\n    );\n    updatedFormElement.touched = true;\n    updatedAuthForm[identifierIndex] = updatedFormElement;\n\n    let bufferFormIsValid = true;\n    for (let inputIdentifier in updatedAuthForm) {\n      bufferFormIsValid =\n        updatedAuthForm[inputIdentifier].valid && bufferFormIsValid;\n    }\n    setFormIsValid(bufferFormIsValid);\n    setAuthForm(updatedAuthForm);\n  };\n  const switchAuthModeHandler = () => {\n    setIsSignUp((prevState) => !prevState);\n  };\n\n  const submitHandler = async (event) => {\n    event.preventDefault();\n    let userData = {};\n    for (let element of authForm) {\n      let label;\n      element.label === \"Username\"\n        ? (label = \"username\")\n        : (label = \"password\");\n      userData[label] = element.value;\n    }\n\n    auth(userData, isSignUp);\n  };\n\n  let form = (\n    <form onSubmit={submitHandler}>\n      {authForm.map((formElement) => (\n        <Input\n          key={formElement.label}\n          label={formElement.label}\n          elementType={formElement.elementType}\n          elementConfig={formElement.elementConfig}\n          invalid={!formElement.valid}\n          touched={formElement.touched}\n          value={formElement.value}\n          changed={(event) => inputChangedHandler(event, formElement.label)}\n        />\n      ))}\n      <Button btnType=\"Success\" disabled={!formIsValid}>\n        SUBMIT\n      </Button>\n    </form>\n  );\n  if (loading) {\n    form = <Spinner />;\n  }\n\n  let errorMessage = null;\n\n  if (error) {\n    errorMessage = <p>{error}</p>;\n  }\n\n  return (\n    <div className={classes.Auth}>\n      <div style={{ textAlign: \"right\" }}>\n        <button onClick={() => callback(false)}>X</button>\n      </div>\n      {errorMessage}\n      {form}\n      <Button onClick={switchAuthModeHandler} btnType=\"Danger\">\n        SWITCH TO {isSignUp ? \"SIGNIN\" : \"SIGNUP\"}\n      </Button>\n    </div>\n  );\n};\n\nexport default Auth;\n","import React, { useEffect, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport * as actions from \"../../store/actions\";\nimport Loading from \"../UI/Spinner/LoadingIndicator\";\nimport classes from \"./Leaderboard.module.css\";\n\nconst Leaderboard = () => {\n  const dispatch = useDispatch();\n  const fetchLeaderboard = useCallback(\n    () => dispatch(actions.fetchLeaderboard()),\n    [dispatch]\n  );\n  const { loading, error, leaders } = useSelector((state) => state.game);\n  useEffect(() => {\n    fetchLeaderboard();\n  }, [fetchLeaderboard]);\n  let toShow = loading ? (\n    <div style={{ textAlign: \"center\" }}>\n      <Loading />\n    </div>\n  ) : error ? (\n    <div>An Error Occurred</div>\n  ) : (\n    <div className={classes.list}>\n      {leaders.map((leader) => (\n        <div key={leader._id} className={classes.item}>\n          <div className={classes.username}>{leader.username}</div>\n          <div className={classes.points}>{leader.points}</div>\n        </div>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className={classes.container}>\n      <h3 className={classes.header}> Top 100 Leaderboard</h3>\n      {toShow}\n    </div>\n  );\n};\n\nexport default Leaderboard;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\";\n\nimport * as actions from \"./store/actions\";\nimport Button from \"./components/UI/Button/button\";\nimport Game from \"./components/Game/Game\";\nimport Auth from \"./components/Auth/Auth\";\nimport Leaderboard from \"./components/Leaderboard/Leaderboard\";\nimport classes from \"./App.module.css\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const authCheckState = useCallback(() => dispatch(actions.authCheckState()), [\n    dispatch,\n  ]);\n  const logout = useCallback(() => dispatch(actions.logout()), [dispatch]);\n  const isAuthenticated = useSelector((state) => state.auth.token !== null);\n  useEffect(() => {\n    authCheckState();\n  }, [authCheckState]);\n\n  const [showAuthForm, setShowAuthForm] = useState(false);\n  return (\n    <div>\n      {showAuthForm ? (\n        <Auth callback={setShowAuthForm} />\n      ) : (\n        <div className={classes.container}>\n          <div className={classes.button}>\n            <a\n              href=\"https://github.com/Kpoke/tictactoe\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <FontAwesomeIcon\n                icon={faGithub}\n                transform=\"grow-13 down-12\"\n                style={{ margin: \"10px\" }}\n              />\n            </a>\n            {isAuthenticated ? (\n              <Button onClick={logout} size=\"Small\" btnType=\"Danger\">\n                Logout\n              </Button>\n            ) : null}\n          </div>\n          <div className={classes.gridContainer}>\n            <div className={classes.section}>\n              <h2 className={classes.header}>TicTacToe Online</h2>\n              <Game callback={setShowAuthForm} />\n            </div>\n            <div className={classes.section}>\n              <Leaderboard />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport WebSocketProvider from \"./WebSocket\";\n\nimport authReducer from \"./store/reducers/auth\";\nimport gameReducer from \"./store/reducers/game\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst composeEnhancers =\n  process.env.NODE_ENV === \"development\"\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    : null || compose;\n\nconst rootReducer = combineReducers({\n  game: gameReducer,\n  auth: authReducer,\n});\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nconst app = (\n  <Provider store={store}>\n    <WebSocketProvider>\n      <App />\n    </WebSocketProvider>\n  </Provider>\n);\n\nReactDOM.render(\n  <React.StrictMode>{app}</React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"Box_box__2nHJZ\",\"text\":\"Box_text__14c5g\",\"bottom\":\"Box_bottom__3LPrh\",\"right\":\"Box_right__3f8f8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"Board_board__1Y7VT\",\"row\":\"Board_row__1KseF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"input_Input__3BPgK\",\"Label\":\"input_Label__24bIE\",\"InputElement\":\"input_InputElement__2HI6E\",\"Invalid\":\"input_Invalid__3QqA4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2rvm5\",\"Small\":\"button_Small__3W1mq\",\"Success\":\"button_Success__2fkNB\",\"Danger\":\"button_Danger__3R9zs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"miniHeaders\":\"Game_miniHeaders__27TGH\",\"board\":\"Game_board__1pZF_\",\"preGame\":\"Game_preGame__CnfJy\",\"buttons\":\"Game_buttons__1WDPG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PreGame_container__2oV7D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__1twK-\",\"load2\":\"Spinner_load2__2gkgc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__3RyTI\"};"],"sourceRoot":""}